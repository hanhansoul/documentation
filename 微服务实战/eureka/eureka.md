## 服务治理

实现各个微服务实例的自动化注册与发现。

- 服务注册
- 服务发现：服务间的调用不再通过指定具体的实例地址来实现，而是通过向服务名发起请求调用实现。调用方需要向服务注册中心咨询服务，并获取所有服务的实例清单，以实现对具体服务实例的访问。

---

- Eureka服务端：服务注册中心。
- Eureka客户端：主要处理服务的注册与发现。客户端服务通过注解和参数配置的方式，嵌入在客户端应用程序的代码中。应用程序运行时，Eureka客户端向注册中心注册自身提供的服务并周期性地发送心跳来更新它的服务租约。同时也能从服务端查询当前注册的服务信息并将它们缓存到本地并周期性地刷新服务状态。

## Eureka详解

- 服务注册中心
- 服务提供者
- 服务消费者

### 服务治理机制

- 服务注册
- 服务同步

### 服务消费者

- 获取服务：启动服务消费者后，它会发送一个REST请求给服务注册中心，来获取上面注册的服务清单。
- 服务调用：服务消费者在获取服务清单后，通过服务名可以获得具体提供服务的实例名和该实例的元数据信息。客户端可以根据自己的需要决定具体调用哪个实例。
- 服务下线：当服务关闭后，我们不希望客户端继续调用关闭了的实例，所以在客户端程序中，当服务实例正常操作时，它会触发一个服务下线的REST请求给Eureka Server。

### 服务注册中心

- 失效剔除
- 自我保护

## 配置详解

Eureka的服务治理体系中，主要分为服务端和客户端两个不同的角色，服务端为服务注册中心，客户端为各个提供接口的微服务应用。高可用的注册中心中，所有的微服务应用和基础类应用都可以视作该体系下的一个微服务，及Eureka客户端。

Eureka客户端的而配置分为两个方面：
1. 服务注册相关的配置信息，包括服务注册中心的地址、服务获取的间隔时间、可用区域等；
2. 服务实例相关的配置信息，包括服务实例的名称、IP地址、端口号、健康检查路径等。

### 服务注册类配置

- 指定注册中心：eureka.client.serviceUrl
- 其他配置
