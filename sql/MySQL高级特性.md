# MySQL高级特性

## 分区表

分区表示一个独立的逻辑表，底层由多个物理子表组成。分区表实际上是对一组底层表的句柄对象的封装。对分区表的请求，都会通过句柄对象转化成对存储引擎的接口调用。

MySQL实现分区表的方式意味着索引也是按照分区的子表定义的，没有全局索引。

MySQL通过PARTITION BY子句定义每个分区存放的数据。执行查询时，优化器会根据分区定义过滤那些没有我们需要数据的分区，这样查询就不需要扫描所有分区。

分区的一个主要目的是将数据按照一个较粗的粒度分在不同的表中。

分区表的应用场景：

1. 表非常大以至于无法全部存放在内存中，或只在表的最后部分有热点数据，其他均为历史数据。
2. 分区表的数据更容易维护，通过清除整个分区的方式可以删除大量数据，还可以对一个独立分区进行优化、检查、修复等操作。
3. 分区表的数据可以分布在不同的物理设备上，从而高效利用多个硬件设备。
4. 可以使用分区表来避免某些瓶颈。
5. 如果需要，可以备份和恢复独立的分区，在大数据集场景下效果非常好。

分区表限制：
1. 一个表最多只能由1024个分区。
2. 在MySQL中，分区表必须是整数或返回整数的表达式。
3. 如果分区字段中有主键或者唯一索引的列，那么所有主键列和唯一索引列必须被包含进来。
4. 分区表中无法使用外键约束。

### 分区表的原理

### 分区表的类型

分局范围进行分区
