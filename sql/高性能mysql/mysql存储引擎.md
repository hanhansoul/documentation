# mysql存储引擎

## mysql5.7支持的存储引擎

- InnoDB
- MyISAM
- Memory
- Merge
- Archive
- Federated

1. InnoDB：支持事务操作(如begin，commit，rollback命令)，支持行级锁，行级锁相对于表锁，其粒度更细，允许并发量更大，支持外键引用完整性约束。InnoDB存储引擎也是MySQL5.7版本中默认的存储引擎。其缺点是：存储空间会占用比较大。
2. MyISAM：该存储引擎存储占用的空间相对与InnoDB存储引擎来说会少很多，但其支持的为表锁，其并发性能会低很多，而且不支持事务，通常只应用于只读模式的应用。它是MySQL最原始的存储引擎。
3. Memory：该存储引擎最大的特点是，所有数据均保存在内存中。应用场景: 主要存储一些需要快速访且非关键数据，为什么不是关键数据呢？就因为其所有数据保存在内存中，也可以理解为不安全。
4. CSV：首先先认识一下CSV，CSV文件其实就是用逗号分隔开的文本文件，常用于数据转换，该类型平时用的比较少，不支持索引。
5. Archive：存档文件，主要用于存储很少用到的引用文件。
6. Example：该存储引擎主要用于展示如何自行编写一个存储引擎，一般不会用作生产环境使用。

mysql通过`show engines`命令可以查看使用的引擎。

使用`show variables like 'storage_engine`查看数据库使用的引擎。

## InnoDB

InnoDB是系统的默认引擎，支持可靠的事务处理。

1. InnoDB给MySQL提供了具有提交、回滚和崩溃恢复能力的事务安全（ACID兼容）存储引擎。InnoDB锁定在行级并且也在SELECT语句中提供一个类似Oracle的非锁定读。这些功能增加了多用户部署和性能。在SQL查询中，可以自由地将InnoDB类型的表和其他MySQL的表类型混合起来，甚至在同一个查询中也可以混合。
2. InnoDB是为处理巨大数据量的最大性能设计。它的CPU效率可能是任何其他基于磁盘的关系型数据库引擎锁不能匹敌的
3. InnoDB存储引擎完全与MySQL服务器整合，InnoDB存储引擎为在主内存中缓存数据和索引而维持它自己的缓冲池。InnoDB将它的表和索引在一个逻辑表空间中，表空间可以包含数个文件（或原始磁盘文件）。这与MyISAM表不同，比如在MyISAM表中每个表被存放在分离的文件中。InnoDB表可以是任何尺寸，即使在文件尺寸被限制为2GB的操作系统上
4. InnoDB支持外键完整性约束，存储表中的数据时，每张表的存储都按主键顺序存放，如果没有显示在表定义时指定主键，InnoDB会为每一行生成一个6字节的ROWID，并以此作为主键
6. InnoDB被用在众多需要高性能的大型数据库站点上
InnoDB不创建目录，使用InnoDB时，MySQL将在MySQL数据目录下创建一个名为ibdata1的10MB大小的自动扩展数据文件，以及两个名为ib_logfile0和ib_logfile1的5MB大小的日志文件

## InnoDB与MyISAM的区别

- 事务支持：MyISAM不支持事务，InnoDB支持事务。